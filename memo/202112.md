# 12/8

## ドメイン駆動設計入門
4章まで読み終えた。

ドメイン駆動設計とはから、値オブジェクトとエンティティについてのお話。

- ドメインとはプログラムが対象とする領域のこと。
- ドメインは時の流れと共に変化しかつ複雑である。これらの問題に向き合うためのアプローチ（開発手法）がドメイン駆動設計である。
- ドメインの概念を抽象化したものがドメインモデル。ドメインモデルをプログラムで動作するモジュールにしたものを、ドメインオブジェクトと呼ぶ。
- ドメインモデルがドメインを忠実に表現できていると、ドメインの変化を忠実に受け止めやすい。つまり、変化を吸収しやすい（変更に強い）プログラム。
- ドメインモデルをオブジェクト（値と振る舞いを持つ）として表現するのが、値オブジェクトとエンティティ。
- 両者の違いは不変であるか、同一性（識別子）によって識別されるか否かの2点。
  - 値オブジェクトは、不変であり保持する属性が同じであれば同一として扱われる。
  - エンティティは、可変であり識別子が同じであれば同一として扱われる。

# 12/9

## GORM
[v1.22.4](https://github.com/go-gorm/gorm/releases/tag/v1.22.4 )のパッチリリースについて調べた。

issue[#4198](https://github.com/go-gorm/gorm/issues/4198 )の修正みたい。

gormが提供する[field tag](https://gorm.io/docs/models.html#Fields-Tags
)で`DEFAULT:0`などを明示すると、auto migrate時にalter tableが実行されるバグがあった模様。

issueのタイトルに`alert table`とあるが、alter tableの間違いだと思う。（多分）

